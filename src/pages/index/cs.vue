<template>
    <div class="selector selectYear" @click="selectYear">
        <div class="show_year">
          <p v-if="!isClicked">年</p>
          <p v-if="isClicked">{{year}}</p>
          <i class="icon"></i>
        </div>
        <mt-datetime-picker 
    v-model="dateValue" 
    type="date" 
    ref="datePicker" 
    year-format="{value} 年" 
    month-format="{value} 月" 
    date-format="{value} 日" 
    :endDate="new Date()" 
    @confirm="handleConfirm">
    </mt-datetime-picker>
      </div>
  
</template> 
<script>
  export default{
    data:{
      year: '',
      dateValue: '',
      isClicked: false
    },
    methods: {
    selectYear () {
      this.$refs.datePicker.open();
    },
    handleConfirm (value) {
      console.log(value);
      this.year = value.getFullYear();
      this.month = value.getMonth() + 1;
      this.date = value.getDate();
      this.isClicked = true;
    },
  }

  }
</script>